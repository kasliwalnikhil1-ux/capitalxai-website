---
interface Feature {
  title: string;
  description?: string;
}

interface Props {
  title?: string;
  features?: Feature[];
}

const { title = 'Why CapitalxAI', features = [] } = Astro.props;

const defaultFeatures: Feature[] = [
  { title: 'AI powered investor discovery' },
  { title: 'Fast and accurate web research' },
  { title: 'Agent driven workflows' },
  { title: 'Real time data enrichment' },
  { title: 'Clean and intuitive interface' },
];

const items = features?.length > 0 ? features : defaultFeatures;
---

<section class="features" aria-labelledby="features-title">
  <div class="container">
    <h2 id="features-title" class="features-title">{title}</h2>
    <ul class="features-grid" role="list">
      {items.map((feature, i) => (
        <li class="feature-card">
          <span class="feature-index" aria-hidden="true">{String(i + 1).padStart(2, '0')}</span>
          <h3 class="feature-title">{feature.title}</h3>
          {feature.description && <p class="feature-desc">{feature.description}</p>}
        </li>
      ))}
    </ul>
  </div>
</section>

<style>
  .features {
    padding-block: 5rem 6rem;
  }

  .features-title {
    margin: 0 0 3rem;
    font-size: clamp(1.75rem, 4vw, 2.25rem);
    font-weight: 700;
    text-align: center;
    letter-spacing: -0.02em;
  }

  .features-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1.5rem;
    margin: 0;
    padding: 0;
    list-style: none;
  }

  @media (min-width: 640px) {
    .features-grid {
      grid-template-columns: repeat(2, 1fr);
    }
  }

  @media (min-width: 1024px) {
    .features-grid {
      grid-template-columns: repeat(3, 1fr);
      gap: 2rem;
    }
  }

  .feature-card {
    padding: 1.75rem;
    background: var(--color-surface);
    border: 1px solid var(--color-border);
    border-radius: var(--radius-lg);
    transition: border-color var(--transition), box-shadow var(--transition);
  }

  .feature-card:hover {
    border-color: rgba(99, 102, 241, 0.3);
    box-shadow: 0 0 0 1px rgba(99, 102, 241, 0.1);
  }

  .feature-index {
    display: block;
    margin-bottom: 0.75rem;
    font-family: var(--font-mono);
    font-size: 0.875rem;
    color: var(--color-accent);
    opacity: 0.9;
  }

  .feature-title {
    margin: 0;
    font-size: 1.125rem;
    font-weight: 600;
    line-height: 1.4;
  }

  .feature-desc {
    margin: 0.5rem 0 0;
    font-size: 0.9375rem;
    color: var(--color-text-muted);
    line-height: 1.5;
  }
</style>
